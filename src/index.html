<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Recipe App</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

</head>

<body>
    <header class="d-flex justify-content-between align-items-center">
        <div class="logo">
            <a href="./index.html">
                <i class="fa fa-drumstick-bite fa-9x icon"></i>
                Meal Finder
            </a>
        </div>
        <div class="inicio">
            <a href="./index.html">Inicio</a>
        </div>
    </header>

    <main>
        <div class="search">
            <h3>Meal Finder</h3>
            <div class="search-box d-flex justify-content-center">
                <input type="text" id="inputSearch" placeholder="Type some food">
                <button id="btnSearch"><i class="fas fa-search"></i></button>
                <a href="./paginaDetalles.html">
                    <button><i class="fas fa-random"></i></button>
                </a>
            </div>
        </div>
        <div class="grid-food container">
            <div class="row justify-content-center">
                <div class="food-item col-md-12" id="resultFood">
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>Â© 2021 Meal Finder</p>
    </footer>

    <script>

        let inputSearch = document.getElementById("inputSearch");

        inputSearch.addEventListener("keypress", function (event) {

           fetch('https://www.themealdb.com/api/json/v1/1/search.php?f=' + inputSearch.value, {method: 'GET'})
           .then(response => response.json())
            .then(data => {
                console.log(data.meals);
                var divAppend = '';
                var i = 0;
                for (const key of data.meals) {
                    console.log(key.idMeal)

                    //if(i % 4 ==0 && i ==0)
                    //{
                        divAppend += '<div class="food-item col-md-4" id="resultFood">';
                    //}
                    divAppend += '<div class="food-image">';
                    divAppend +=  '<img class="img-fluid" src="'+ key.strMealThumb + '"';
                    divAppend += 'alt="">';
                    divAppend +=  '<div class="caption">';
                    divAppend += '<div class="blur"></div>';
                    divAppend += '<div class="caption-text">';
                    divAppend += '<i class="fas fa-eye"></i>';
                    divAppend += '</div>';
                    divAppend += '</div>';
                    divAppend += '</div>';
                    divAppend += '<h4 class="food-name">'+ key.strMeal +'</h4>';
                    divAppend += '</div>';
                   /* if(i % 4 ==0 && i ==0)
                    {
                        
                    }*/

                    i++;
                }

                //divAppend += '</div>';
                document.getElementById("resultFood").innerHTML=divAppend;
            });
        })
    </script>
</body>
</html>